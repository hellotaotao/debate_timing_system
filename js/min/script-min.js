var second_duration=2.5,free_duration=4;!function t(){"use strict";var t=document.getElementById("timer"),e=document.getElementById("toggle"),n=document.getElementById("clear"),r=!1,i=!1,a,l,o,s,u=function(){o=0,r=!0,l=Date.now(),a=setInterval(c,51),e.innerHTML="stop"},d=function(t){for(var e=[36e5,6e4,1e3,10],n=[],r=0;r<e.length;){var i=Math.floor(t/e[r]);t-=i*e[r],i=r>0&&10>i?"0"+i:i,n.push(i),r++}return n},c=function(){var e=d(Date.now()-l-o);t.innerHTML=e[0]+":"+e[1]+":"+e[2]+"."+e[3]},g=function(){i=!0,s=Date.now(),e.innerHTML="resume",n.dataset.state="visible",clearInterval(a),c()},f=function(){i=!1,o+=Date.now()-s,a=setInterval(c,51),e.innerHTML="stop",n.dataset.state=""},m=function(){r=!1,i=!1,e.innerHTML="start",t.innerHTML="0:00:00.00",n.dataset.state=""},p=function(){r?i?f():g():u()};e.addEventListener("click",p),n.addEventListener("click",m)}(),function e(){var t,e,n,r;e=function(t){var e;return e=t.get("seconds"),10>e&&(e="0"+e),t.get("minutes")+":"+e},r=function(t){return"right"===t?($("#left .toggle").prop("disabled",!1),$("#right .toggle").prop("disabled",!0),$("#right .toggle").addClass("btn-default btn-disabled"),$("#right .toggle").removeClass("btn-primary"),$("#left .toggle").addClass("btn-primary")):"left"===t?($("#left .toggle").prop("disabled",!0),$("#right .toggle").prop("disabled",!1),$("#left .toggle").addClass("btn-default btn-disabled"),$("#left .toggle").removeClass("btn-primary"),$("#right .toggle").addClass("btn-primary")):void 0},n=function(){return $("#left input").addClass("btn-primary"),$("#left input").removeClass("btn-default btn-disabled"),$("#right input").addClass("btn-primary"),$("#right input").removeClass("btn-default btn-disabled")},t=function(t,n){return $(t).html(e(n))},jQuery(function($){var e,i,a,l,o;return l=moment.duration(second_duration,"minutes"),o=moment.duration(second_duration,"minutes"),t("#left .time",l),t("#right .time",o),a=$("#right .toggle").on("click",function(){return e&&(clearInterval(e),r("right")),a=setInterval(function(){return o.as("seconds")>0?(o.subtract(moment.duration(1,"s")),t("#right .time",o)):clearInterval(self)},1e3)}),e=$("#left .toggle").on("click",function(){return a&&(clearInterval(a),r("left")),e=setInterval(function(){return l.as("seconds")>0?(l.subtract(moment.duration(1,"s")),t("#left .time",l)):clearInterval(self)},1e3)}),$("#pause").on("click",function(){return r("disabled"===$("#left .toggle").prop?"left":"right"),clearInterval(e),clearInterval(a)}),$("#reset").on("click",function(){return $("#time-input").val(20),i(20)}),$("#time-input").on("change",function(){return i(parseInt($("#time-input").val()))}),i=function(r){return clearInterval(e),clearInterval(a),l=moment.duration(r,"minutes"),o=moment.duration(r,"minutes"),t("#left .time",l),t("#right .time",o),$("#left input").prop("disabled",!1),$("#right input").prop("disabled",!1),n()}})}();